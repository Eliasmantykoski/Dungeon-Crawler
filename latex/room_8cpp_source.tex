\hypertarget{room_8cpp_source}{}\doxysection{room.\+cpp}
\label{room_8cpp_source}\index{src/room.cpp@{src/room.cpp}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001 \textcolor{preprocessor}{\#include "\mbox{\hyperlink{room_8hpp}{room.hpp}}"}}
\DoxyCodeLine{00002 }
\DoxyCodeLine{00003 \textcolor{preprocessor}{\#include <math.h>}}
\DoxyCodeLine{00004 }
\DoxyCodeLine{00005 \textcolor{preprocessor}{\#include <SFML/Graphics/VertexArray.hpp>}}
\DoxyCodeLine{00006 \textcolor{preprocessor}{\#include <SFML/System/Vector2.hpp>}}
\DoxyCodeLine{00007 \textcolor{preprocessor}{\#include <cmath>}}
\DoxyCodeLine{00008 \textcolor{preprocessor}{\#include <iostream>}}
\DoxyCodeLine{00009 \textcolor{preprocessor}{\#include <ostream>}}
\DoxyCodeLine{00010 }
\DoxyCodeLine{\Hypertarget{room_8cpp_source_l00011}\mbox{\hyperlink{classRoom_a02c1f68574743272ce133bf29dac53bf}{00011}} \mbox{\hyperlink{classRoom_a02c1f68574743272ce133bf29dac53bf}{Room::Room}}(sf::Texture *texture, sf::Vector2f spawnPos,}
\DoxyCodeLine{00012            std::vector<int> openings, \textcolor{keywordtype}{int} depth)}
\DoxyCodeLine{00013     : active(false), depth\_(depth) \{}
\DoxyCodeLine{00014   \mbox{\hyperlink{classRoom_aa8cb4af13053e2dce4f77936722dffba}{xBound1}} = spawnPos.x;}
\DoxyCodeLine{00015   \mbox{\hyperlink{classRoom_ada45ff5e1973161df68ea0945f675ab4}{xBound2}} = spawnPos.x + \mbox{\hyperlink{classRoom_adf65190cc2e4e041cff82d4b3622c87d}{maxSize}}.x * 50.0f;}
\DoxyCodeLine{00016 }
\DoxyCodeLine{00017   \mbox{\hyperlink{classRoom_ac54028f80211b29f275dbfae4738e55a}{yBound1}} = spawnPos.y;}
\DoxyCodeLine{00018   \mbox{\hyperlink{classRoom_a083eb316d0038211707a90f13892f054}{yBound2}} = spawnPos.y + \mbox{\hyperlink{classRoom_adf65190cc2e4e041cff82d4b3622c87d}{maxSize}}.y * 50.0f;}
\DoxyCodeLine{00019 }
\DoxyCodeLine{00020   sf::Texture *floortexture = \textcolor{keyword}{new} sf::Texture();}
\DoxyCodeLine{00021   floortexture-\/>loadFromFile(\textcolor{stringliteral}{"libs/images/floor\_1.png"});}
\DoxyCodeLine{00022 }
\DoxyCodeLine{00023   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} x = 0; x < \mbox{\hyperlink{classRoom_adf65190cc2e4e041cff82d4b3622c87d}{maxSize}}.x; x++) \{}
\DoxyCodeLine{00024     \mbox{\hyperlink{classRoom_a41370b2f65375983ae8595e0e9dc0718}{walls}}.push\_back(std::vector<Wall>());}
\DoxyCodeLine{00025 }
\DoxyCodeLine{00026     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} y = 0; y < \mbox{\hyperlink{classRoom_adf65190cc2e4e041cff82d4b3622c87d}{maxSize}}.y; y++) \{}
\DoxyCodeLine{00027       \textcolor{keywordflow}{if} (y == floor(\mbox{\hyperlink{classRoom_adf65190cc2e4e041cff82d4b3622c87d}{maxSize}}.y / 2) \&\&}
\DoxyCodeLine{00028           ((x == 0 \&\& openings[3] == 1) ||}
\DoxyCodeLine{00029            (x == \mbox{\hyperlink{classRoom_adf65190cc2e4e041cff82d4b3622c87d}{maxSize}}.x -\/ 1 \&\& openings[1] == 1))) \{}
\DoxyCodeLine{00030         \mbox{\hyperlink{classWall}{Wall}} wall(floortexture, sf::Vector2f(50.0f, 50.f),}
\DoxyCodeLine{00031                   spawnPos + sf::Vector2f(50.0f * x, 50.0f * y), 2);}
\DoxyCodeLine{00032         \mbox{\hyperlink{classRoom_a41370b2f65375983ae8595e0e9dc0718}{walls}}[x].push\_back(wall);}
\DoxyCodeLine{00033       \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (x == floor(\mbox{\hyperlink{classRoom_adf65190cc2e4e041cff82d4b3622c87d}{maxSize}}.x / 2) \&\&}
\DoxyCodeLine{00034                  ((y == 0 \&\& openings[0] == 1) ||}
\DoxyCodeLine{00035                   (y == \mbox{\hyperlink{classRoom_adf65190cc2e4e041cff82d4b3622c87d}{maxSize}}.y -\/ 1 \&\& openings[2] == 1))) \{}
\DoxyCodeLine{00036         \mbox{\hyperlink{classWall}{Wall}} wall(floortexture, sf::Vector2f(50.0f, 50.f),}
\DoxyCodeLine{00037                   spawnPos + sf::Vector2f(50.0f * x, 50.0f * y), 2);}
\DoxyCodeLine{00038         \mbox{\hyperlink{classRoom_a41370b2f65375983ae8595e0e9dc0718}{walls}}[x].push\_back(wall);}
\DoxyCodeLine{00039       \}}
\DoxyCodeLine{00040 }
\DoxyCodeLine{00041       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (x == 0 || x == \mbox{\hyperlink{classRoom_adf65190cc2e4e041cff82d4b3622c87d}{maxSize}}.x -\/ 1 || y == 0 || y == \mbox{\hyperlink{classRoom_adf65190cc2e4e041cff82d4b3622c87d}{maxSize}}.y -\/ 1) \{}
\DoxyCodeLine{00042         \mbox{\hyperlink{classWall}{Wall}} wall(texture, sf::Vector2f(50.0f, 50.f),}
\DoxyCodeLine{00043                   spawnPos + sf::Vector2f(50.0f * x, 50.0f * y), 1);}
\DoxyCodeLine{00044         \mbox{\hyperlink{classRoom_a41370b2f65375983ae8595e0e9dc0718}{walls}}[x].push\_back(wall);}
\DoxyCodeLine{00045 }
\DoxyCodeLine{00046       \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00047         \mbox{\hyperlink{classWall}{Wall}} wall(floortexture, sf::Vector2f(50.0f, 50.f),}
\DoxyCodeLine{00048                   spawnPos + sf::Vector2f(50.0f * x, 50.0f * y), 0);}
\DoxyCodeLine{00049         \mbox{\hyperlink{classRoom_a41370b2f65375983ae8595e0e9dc0718}{walls}}[x].push\_back(wall);}
\DoxyCodeLine{00050       \}}
\DoxyCodeLine{00051     \}}
\DoxyCodeLine{00052   \}}
\DoxyCodeLine{00053 \};}
\DoxyCodeLine{00054 }
\DoxyCodeLine{00055 \textcolor{comment}{/*}}
\DoxyCodeLine{00056 \textcolor{comment}{ *Method for displaying individual walls}}
\DoxyCodeLine{00057 \textcolor{comment}{ *Checks collider with player and enemies}}
\DoxyCodeLine{00058 \textcolor{comment}{ */}}
\DoxyCodeLine{\Hypertarget{room_8cpp_source_l00059}\mbox{\hyperlink{classRoom_a010ce57c8a5bf3c4c914fec055286ef0}{00059}} \textcolor{keywordtype}{void} \mbox{\hyperlink{classRoom_a010ce57c8a5bf3c4c914fec055286ef0}{Room::Display}}(sf::RenderWindow \&window, \mbox{\hyperlink{classCollider}{Collider}} playerCollider,}
\DoxyCodeLine{00060                    std::vector<Enemy *> \&enemies) \{}
\DoxyCodeLine{00061   \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} r : \mbox{\hyperlink{classRoom_a41370b2f65375983ae8595e0e9dc0718}{walls}}) \{}
\DoxyCodeLine{00062     \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} w : r) \{}
\DoxyCodeLine{00063       w.Draw(window);}
\DoxyCodeLine{00064       \mbox{\hyperlink{classCollider}{Collider}} wallCollider = w.getCollider();}
\DoxyCodeLine{00065       \textcolor{keywordflow}{if} (w.type\_ == 1) \{}
\DoxyCodeLine{00066         wallCollider.\mbox{\hyperlink{classCollider_a0c232a533214c61aa746bc0b9375d110}{checkCollider}}(playerCollider, 1);}
\DoxyCodeLine{00067 }
\DoxyCodeLine{00068         \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} i = 0; i < enemies.size(); i++) \{}
\DoxyCodeLine{00069           \mbox{\hyperlink{classCollider}{Collider}} enemyCollider = enemies[i]-\/>getCollider();}
\DoxyCodeLine{00070           wallCollider.\mbox{\hyperlink{classCollider_a0c232a533214c61aa746bc0b9375d110}{checkCollider}}(enemyCollider, 1);}
\DoxyCodeLine{00071         \}}
\DoxyCodeLine{00072       \}}
\DoxyCodeLine{00073       \textcolor{keywordflow}{if} (w.type\_ == 2) \{}
\DoxyCodeLine{00074         \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} i = 0; i < enemies.size(); i++) \{}
\DoxyCodeLine{00075           \mbox{\hyperlink{classCollider}{Collider}} enemyCollider = enemies[i]-\/>getCollider();}
\DoxyCodeLine{00076           wallCollider.\mbox{\hyperlink{classCollider_a0c232a533214c61aa746bc0b9375d110}{checkCollider}}(enemyCollider, 1);}
\DoxyCodeLine{00077         \}}
\DoxyCodeLine{00078       \}}
\DoxyCodeLine{00079     \}}
\DoxyCodeLine{00080   \}}
\DoxyCodeLine{00081 \};}
\DoxyCodeLine{00082 }
\DoxyCodeLine{00083 \textcolor{comment}{// void Room::checkCollision(sf::RectangleShape \&other\_body) \{}}
\DoxyCodeLine{00084 \textcolor{comment}{//   for (unsigned int i = 0; i < walls.size(); i++) \{}}
\DoxyCodeLine{00085 \textcolor{comment}{//     for (unsigned int j = 0; j < walls[i].size(); j++) \{}}
\DoxyCodeLine{00086 \textcolor{comment}{//       if (walls[i][j].checkCollision(other\_body) \&\&}}
\DoxyCodeLine{00087 \textcolor{comment}{//           walls[i][j].body.getTexture() != nullptr) \{}}
\DoxyCodeLine{00088 \textcolor{comment}{//         float x = other\_body.getPosition().x -\/}}
\DoxyCodeLine{00089 \textcolor{comment}{//         walls[i][j].body.getPosition().x; float y =}}
\DoxyCodeLine{00090 \textcolor{comment}{//         other\_body.getPosition().y -\/ walls[i][j].body.getPosition().y;}}
\DoxyCodeLine{00091 \textcolor{comment}{//         other\_body.move(sf::Vector2f(0.05 * x, 0.05 * y));}}
\DoxyCodeLine{00092 \textcolor{comment}{//       \}}}
\DoxyCodeLine{00093 \textcolor{comment}{//     \}}}
\DoxyCodeLine{00094 \textcolor{comment}{//   \}}}
\DoxyCodeLine{00095 \textcolor{comment}{// \}}}
\DoxyCodeLine{00096 }
\DoxyCodeLine{\Hypertarget{room_8cpp_source_l00097}\mbox{\hyperlink{classRoom_a35567d2b09fa16c2bba706604f0d6522}{00097}} \textcolor{keywordtype}{void} \mbox{\hyperlink{classRoom_a35567d2b09fa16c2bba706604f0d6522}{Room::MoveRoom}}(\textcolor{keywordtype}{int} direction, std::vector<Item> \&items) \{}
\DoxyCodeLine{00098   sf::Vector2f dir;}
\DoxyCodeLine{00099   \textcolor{keywordflow}{if} (direction == 0) \{}
\DoxyCodeLine{00100     dir = sf::Vector2f(0, -\/10 * 50);}
\DoxyCodeLine{00101   \}}
\DoxyCodeLine{00102   \textcolor{keywordflow}{if} (direction == 1) \{}
\DoxyCodeLine{00103     dir = sf::Vector2f(10 * 50, 0);}
\DoxyCodeLine{00104   \}}
\DoxyCodeLine{00105   \textcolor{keywordflow}{if} (direction == 2) \{}
\DoxyCodeLine{00106     dir = sf::Vector2f(0, 10 * 50);}
\DoxyCodeLine{00107   \}}
\DoxyCodeLine{00108   \textcolor{keywordflow}{if} (direction == 3) \{}
\DoxyCodeLine{00109     dir = sf::Vector2f(-\/10 * 50, 0);}
\DoxyCodeLine{00110   \}}
\DoxyCodeLine{00111 }
\DoxyCodeLine{00112   \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} i = 0; i < \mbox{\hyperlink{classRoom_a41370b2f65375983ae8595e0e9dc0718}{walls}}.size(); i++) \{}
\DoxyCodeLine{00113     \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} j = 0; j < \mbox{\hyperlink{classRoom_a41370b2f65375983ae8595e0e9dc0718}{walls}}[i].size(); j++) \{}
\DoxyCodeLine{00114       \mbox{\hyperlink{classRoom_a41370b2f65375983ae8595e0e9dc0718}{walls}}[i][j].Move2(dir);}
\DoxyCodeLine{00115     \}}
\DoxyCodeLine{00116   \}}
\DoxyCodeLine{00117   \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} i = 0; i < items.size(); i++) \{}
\DoxyCodeLine{00118     items[i].body.move(dir);}
\DoxyCodeLine{00119   \}}
\DoxyCodeLine{00120 \}}
\DoxyCodeLine{00121 }
\DoxyCodeLine{\Hypertarget{room_8cpp_source_l00122}\mbox{\hyperlink{classRoom_af670461ff00a43beaf71a7ce93c66fc9}{00122}} \textcolor{keywordtype}{void} \mbox{\hyperlink{classRoom_af670461ff00a43beaf71a7ce93c66fc9}{Room::Activate}}() \{ \mbox{\hyperlink{classRoom_a5bd79e635f9ebe0738c2db676fabf40c}{active}} = \textcolor{keyword}{true}; \};}
\DoxyCodeLine{\Hypertarget{room_8cpp_source_l00123}\mbox{\hyperlink{classRoom_a02cfe79807da1c17cd5519b36a4c1096}{00123}} \textcolor{keywordtype}{void} \mbox{\hyperlink{classRoom_a02cfe79807da1c17cd5519b36a4c1096}{Room::Deactivate}}() \{ \mbox{\hyperlink{classRoom_a5bd79e635f9ebe0738c2db676fabf40c}{active}} = \textcolor{keyword}{false}; \}}

\end{DoxyCode}
