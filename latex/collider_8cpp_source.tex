\hypertarget{collider_8cpp_source}{}\doxysection{collider.\+cpp}
\label{collider_8cpp_source}\index{src/collider.cpp@{src/collider.cpp}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001 \textcolor{preprocessor}{\#include "\mbox{\hyperlink{collider_8hpp}{collider.hpp}}"}}
\DoxyCodeLine{00002 }
\DoxyCodeLine{\Hypertarget{collider_8cpp_source_l00003}\mbox{\hyperlink{classCollider_ab9849daa20222ab71134dde43abc573d}{00003}} \mbox{\hyperlink{classCollider_ab9849daa20222ab71134dde43abc573d}{Collider::Collider}}(sf::RectangleShape\& body) : body\_(body) \{\}}
\DoxyCodeLine{00004 }
\DoxyCodeLine{\Hypertarget{collider_8cpp_source_l00005}\mbox{\hyperlink{classCollider_a564acde9860f875a32a6638c573d87be}{00005}} \mbox{\hyperlink{classCollider_a564acde9860f875a32a6638c573d87be}{Collider::\string~Collider}}() \{\}}
\DoxyCodeLine{00006 }
\DoxyCodeLine{00007 \textcolor{comment}{// checks of collider intersects witch collider given as parameter}}
\DoxyCodeLine{00008 \textcolor{comment}{// moves one if necessary}}
\DoxyCodeLine{\Hypertarget{collider_8cpp_source_l00009}\mbox{\hyperlink{classCollider_a0c232a533214c61aa746bc0b9375d110}{00009}} \textcolor{keywordtype}{bool} \mbox{\hyperlink{classCollider_a0c232a533214c61aa746bc0b9375d110}{Collider::checkCollider}}(\mbox{\hyperlink{classCollider}{Collider}}\& other, \textcolor{keywordtype}{float} push) \{}
\DoxyCodeLine{00010   \textcolor{comment}{// get positions}}
\DoxyCodeLine{00011   sf::Vector2f otherPosition = other.\mbox{\hyperlink{classCollider_a158e97afec743ee3bdd6a7a9c96ce3d5}{getPosition}}();}
\DoxyCodeLine{00012   sf::Vector2f otherHalfSize = other.\mbox{\hyperlink{classCollider_a5111d0456645b48f9a1c5e5674267887}{getHalfSize}}();}
\DoxyCodeLine{00013   sf::Vector2f thisPosition = \mbox{\hyperlink{classCollider_a158e97afec743ee3bdd6a7a9c96ce3d5}{getPosition}}();}
\DoxyCodeLine{00014   sf::Vector2f thisHalfSize = \mbox{\hyperlink{classCollider_a5111d0456645b48f9a1c5e5674267887}{getHalfSize}}();}
\DoxyCodeLine{00015 }
\DoxyCodeLine{00016   \textcolor{comment}{// find differences in location}}
\DoxyCodeLine{00017   \textcolor{keywordtype}{float} xdif = otherPosition.x -\/ thisPosition.x;}
\DoxyCodeLine{00018   \textcolor{keywordtype}{float} ydif = otherPosition.y -\/ thisPosition.y;}
\DoxyCodeLine{00019 }
\DoxyCodeLine{00020   \textcolor{keywordtype}{float} intersectX = abs(xdif) -\/ (otherHalfSize.x + thisHalfSize.x);}
\DoxyCodeLine{00021   \textcolor{keywordtype}{float} intersectY = abs(ydif) -\/ (otherHalfSize.y + thisHalfSize.y);}
\DoxyCodeLine{00022 }
\DoxyCodeLine{00023   \textcolor{comment}{// if colliders intersect, move one of them based on push parameter and return}}
\DoxyCodeLine{00024   \textcolor{comment}{// true}}
\DoxyCodeLine{00025   \textcolor{keywordflow}{if} (intersectX < 0.0f \&\& intersectY < 0.0f) \{}
\DoxyCodeLine{00026     push = std::min(std::max(push, 0.0f), 1.0f);}
\DoxyCodeLine{00027 }
\DoxyCodeLine{00028     \textcolor{keywordflow}{if} (abs(intersectX) < abs(intersectY)) \{}
\DoxyCodeLine{00029       \textcolor{keywordflow}{if} (xdif > 0.0f) \{}
\DoxyCodeLine{00030         \mbox{\hyperlink{classCollider_a4da64b55d477c31bd71f170cb2a712e9}{Move}}(intersectX * (1.0f -\/ push), 0.0f);}
\DoxyCodeLine{00031         other.\mbox{\hyperlink{classCollider_a4da64b55d477c31bd71f170cb2a712e9}{Move}}(-\/intersectX * push, 0.0f);}
\DoxyCodeLine{00032       \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00033         \mbox{\hyperlink{classCollider_a4da64b55d477c31bd71f170cb2a712e9}{Move}}(-\/intersectX * (1.0f -\/ push), 0.0f);}
\DoxyCodeLine{00034         other.\mbox{\hyperlink{classCollider_a4da64b55d477c31bd71f170cb2a712e9}{Move}}(intersectX * push, 0.0f);}
\DoxyCodeLine{00035       \}}
\DoxyCodeLine{00036     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00037       \textcolor{keywordflow}{if} (ydif > 0.0f) \{}
\DoxyCodeLine{00038         \mbox{\hyperlink{classCollider_a4da64b55d477c31bd71f170cb2a712e9}{Move}}(0.0f, intersectY * (1.0f -\/ push));}
\DoxyCodeLine{00039         other.\mbox{\hyperlink{classCollider_a4da64b55d477c31bd71f170cb2a712e9}{Move}}(0.0f, -\/intersectY * push);}
\DoxyCodeLine{00040       \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00041         \mbox{\hyperlink{classCollider_a4da64b55d477c31bd71f170cb2a712e9}{Move}}(0.0f, -\/intersectY * (1.0f -\/ push));}
\DoxyCodeLine{00042         other.\mbox{\hyperlink{classCollider_a4da64b55d477c31bd71f170cb2a712e9}{Move}}(0.0f, intersectY * push);}
\DoxyCodeLine{00043       \}}
\DoxyCodeLine{00044     \}}
\DoxyCodeLine{00045 }
\DoxyCodeLine{00046     \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{00047   \}}
\DoxyCodeLine{00048 }
\DoxyCodeLine{00049   \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{00050 \}}

\end{DoxyCode}
